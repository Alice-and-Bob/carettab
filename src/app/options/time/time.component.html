<h1>Time</h1>
<div class="divTable">
  <div class="divTableHeading">
    <div class="divTableRow">
      <div class="divTableHead">#</div>
      <div class="divTableHead">Label</div>
      <div class="divTableHead">Timezone</div>
      <div class="divTableHead actions">Actions</div>
    </div>
  </div>
  <form class="divTableBody zebra" #clockList="ngForm" novalidate>
    <div class="divTableRow" *ngFor="let clock of settings.config.time.clocks; let i = index">
      <div class="divTableCell">
        <input 
          type="text" 
          [name]="'index'+i" 
          [value]="i+1"
          disabled="disabled" 
          class="invisibleField">
      </div>
      <div class="divTableCell">
        <input 
          type="text" 
          [name]="'label'+i" 
          [value]="clock.label"
          disabled="disabled" 
          class="invisibleField">
      </div>
      <div class="divTableCell">
        <input 
          type="text" 
          [name]="'timezone'+i" 
          [value]="timezoneFormat(clock.timezone)"
          disabled="disabled" 
          class="invisibleField">
      </div>
      <div class="divTableCell actions">
        <button 
          type="button" 
          class="btn mr5 fas fa-pencil-alt" 
          title="Edit clock" 
          (click)="edit(i)">
        </button>
        <button type="button" class="btn fas fa-trash-alt" (click)="delete(i)"></button>
      </div>
    </div>
  </form>
</div>
<form #clockForm="ngForm" novalidate *ngIf="showNew" (ngSubmit)="save()">
  <fieldset class="formBox">
    <div class="flex">
      <h2 class="mt0">{{submitMode === 'Update'? 'Edit clock #' + (selected + 1): 'New Clock'}}</h2>
      <div class="mlAuto">
        <button type="submit" class="btn mr5"><i class="fas fa-check"></i>{{submitMode}}</button>
        <button type="button" class="btn" (click)="cancel()"><i class="fas fa-times"></i>Cancel</button>
      </div>
    </div>
    <div class="row">
      <!-- Label -->
      <div class="control col5">
        <label for="label"><app-help title="Enter a label for the clock. Leave empty for no label.">Label</app-help></label>
        <input type="text" id="label" name="label" [(ngModel)]="clock.label">
      </div>
      <!-- Timezone -->
      <div class="control col7">
        <label for="timezone"><app-help title="Choose a timezone for the clock (the default is your local timezone).">Timezone</app-help></label>
        <select id="select" name="timezone" [(ngModel)]="clock.timezone">
          <option value="Automatic">Automatic ({{timezoneFormat(tzGuess)}})</option>
          <ng-template let-c ngFor [ngForOf]="allTimezones">
            <optgroup *ngIf="c.zones.length > 1" [label]="c.iso | iso2CountryPipe">
              <option *ngFor="let t of c.zones" [value]="t">{{timezoneFormat(t)}}
                <span>{{timezoneOffset(t)}}</span>
              </option>
            </optgroup>
            <option *ngIf="c.zones.length === 1" [value]="c.zones[0]">{{c.iso | iso2CountryPipe}}
              <span>{{timezoneOffset(c.zones[0])}}</span>
            </option>
          </ng-template>
        </select>
      </div>
      <!-- Analog Clock -->
      <div class="control col4">
        <label for="analog"><app-help title="Displays the clock in an analog style instead of digital.">Analog clock</app-help></label>
        <div id="analog" class="group group--justified">
          <input type="checkbox" id="analogEnable" name="analogEnable" [(ngModel)]="clock.analog.enabled">
          <label for="analogEnable" class="fas fa-check" title="Enable"></label>
          <select id="analogStyle" name="analogStyle" [(ngModel)]="clock.analog.style" class="w100Px" title="Choose the style of analog clock">
            <option value="">Style 1</option>
            <option value="">Style 2</option>
          </select>
        </div>
      </div>
      <!-- Delimiter -->
      <div class="control col3">
        <label for="delimiter"><app-help title="Shows a seperator between hours/minutes/seconds.">Delimiter</app-help></label>
        <div id="delimiter" class="group group--justified">
          <input type="checkbox" id="delimiterEnable" name="delimiterEnable" [(ngModel)]="clock.delimiter.enabled">
          <label for="delimiterEnable" class="fas fa-check" title="Enable"></label>
          <input type="checkbox" id="delimiterBlink" name="delimiterBlink" [(ngModel)]="clock.delimiter.blink">
          <label for="delimiterBlink" class="fas fa-eye" title="Blink"></label>
          <input type="checkbox" id="delimiterDim" name="delimiterDim" [(ngModel)]="clock.delimiter.dim">
          <label for="delimiterDim" class="fas fa-adjust" title="Dim"></label>
        </div>
      </div>
      <!-- Seconds -->
      <div class="control col3">
        <label for="seconds"><app-help title="Display the seconds on the clock.">Seconds</app-help></label>
        <div id="seconds" class="group group--justified">
          <input type="checkbox" id="secondsEnable" name="secondsEnable" [(ngModel)]="clock.seconds.enabled">
          <label for="secondsEnable" class="fas fa-check"></label>
          <input type="checkbox" id="secondsBlink" name="secondsBlink" [(ngModel)]="clock.seconds.blink">
          <label for="secondsBlink" title="Blink" class="fas fa-eye"></label>
          <input type="checkbox" id="secondsDim" name="secondsDim" [(ngModel)]="clock.seconds.dim">
          <label for="secondsDim" title="Dim" class="fas fa-adjust"></label>
        </div>
      </div>
      <!-- 24-Hour -->
      <div class="control col3">
        <label for="twentyFour"><app-help title="Display clock in 24-hour format instead of 12-hour (will disable meridiem).">24-Hour</app-help></label>
        <div id="twentyFour" class="group group--justified">
          <input type="checkbox" id="twentyFourEnable" name="twentyFourEnable" [(ngModel)]="clock.twentyFour">
          <label for="twentyFourEnable" class="fas fa-check"></label>
        </div>
      </div>
      <!-- Meridiem -->
      <div class="control col3">
        <label for="meridiem"><app-help title="Displays AM/PM on the clock (only for 12-Hour format)">Meridiem</app-help></label>
        <div id="meridiem" class="group group--justified">
          <input type="checkbox" id="meridiemEnable" name="meridiemEnable" [(ngModel)]="clock.meridiem.enabled">
          <label for="meridiemEnable" title="Enable" class="fas fa-check"></label>
          <input type="checkbox" id="meridiemDim" name="meridiemDim" [(ngModel)]="clock.meridiem.dim">
          <label for="meridiemDim" title="Dim" class="fas fa-adjust"></label>
        </div>
      </div>
      <!-- Scaling -->
      <div class="control col4">
        <label for="scaling"><app-help title="Change the size of the clock.">Size</app-help></label>
        <div class="group flex">
          <input id="scaling" name="clockSize" [(ngModel)]="clock.scaling" type="range" class="flex__auto" min="0" max="100">
          <input id="scalingInput" name="scalingInput" [(ngModel)]="clock.scaling" class="rangeLabel flex__set">
        </div>
      </div>
      <!-- Font -->
      <div class="control col4">
        <label for="font"><app-help title="Choose a font to use for this clock.">Font</app-help></label>
        <select name="font" id="font" [(ngModel)]="clock.font">
          <option *ngFor="let font of fonts" [value]="font">{{font}}</option>
        </select>
      </div>
      <!-- Brackets -->
      <div class="control col4">
        <label for="brackets"><app-help title="Shows brackets around clock. Type a symbol in the text boxes to choose what type of bracket.">Brackets</app-help></label>
        <div id="brackets" class="group group--justified">
          <input type="checkbox" id="bracketsEnable" name="bracketsEnable" [(ngModel)]="clock.brackets.enabled">
          <label for="bracketsEnable" title="Enable" class="fas fa-check"></label>
          <input type="checkbox" id="bracketsDim" name="bracketsDim" [(ngModel)]="clock.brackets.dim">
          <label for="bracketsDim" title="Dim" class="fas fa-adjust"></label>
          <input type="text" id="bracketsLeft" name="bracketsLeft" class="w40Px" [(ngModel)]="clock.brackets.left" maxlength="1">
          <input type="text" id="bracketsRight" name="bracketsRight" class="w40Px" [(ngModel)]="clock.brackets.right" maxlength="1">
        </div>
      </div>
    </div>
  </fieldset>
</form>
<button class="btn" title="Add clock" *ngIf="!showNew" (click)="add()"><i class="fas fa-plus"></i>Add New Clock</button> 
<p>
  <b>Note:</b> the time is an educated guess based on the time and timezone your computer is set to and may not reflect your actual time. CaretTab is guessing your current timezone to be: "{{timezoneFormat(this.tzGuess)}}".
</p>