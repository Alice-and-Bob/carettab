<h1>Time</h1>
<div class="divTable">
  <div class="divTableHeading">
    <div class="divTableRow">
      <div class="divTableHead">#</div>
      <div class="divTableHead">Label</div>
      <div class="divTableHead">Timezone</div>
      <div class="divTableHead actions">Actions</div>
    </div>
  </div>
  <form class="divTableBody zebra" #clockList="ngForm" novalidate>
    <div class="divTableRow" *ngFor="let clock of settings.config.time.clocks; let i = index">
      <div class="divTableCell">
        <input
          type="text"
          [name]="'index'+i"
          [value]="i+1"
          disabled="disabled"
          class="invisibleField">
      </div>
      <div class="divTableCell">
        <input
          type="text"
          [name]="'label'+i"
          [value]="clock.label"
          disabled="disabled"
          class="invisibleField">
      </div>
      <div class="divTableCell">
        <input
          type="text"
          [name]="'timezone'+i"
          [value]="timezoneFormat(clock.timezone)"
          disabled="disabled"
          class="invisibleField">
      </div>
      <div class="divTableCell actions">
        <button
          type="button"
          class="btn mr5 fas fa-pencil-alt"
          title="Edit clock"
          (click)="edit(i)">
        </button>
        <button type="button" class="btn fas fa-trash-alt" (click)="delete(i)"></button>
      </div>
    </div>
  </form>
</div>
<form #clockForm="ngForm" novalidate *ngIf="showNew" (ngSubmit)="save()">
  <fieldset class="">
    <div class="flex">
      <h2 class="mt0">{{submitMode === 'Update'? 'Edit clock #' + (selected + 1): 'New Clock'}}</h2>
      <div class="mlAuto">
        <button type="submit" class="btn mr5"><i class="fas fa-check"></i>{{submitMode}}</button>
        <button type="button" class="btn" (click)="cancel()"><i class="fas fa-times"></i>Cancel</button>
      </div>
    </div>
    <div class="row">
      <!-- Label -->
      <div class="control col5">
        <label for="label"><app-help title="Enter a label for the clock. Leave empty for no label.">Label</app-help></label>
        <input type="text" id="label" name="label" [(ngModel)]="clock.label">
      </div>
      <!-- Timezone -->
      <div class="control col7">
        <label for="timezone"><app-help title="Choose a timezone for the clock (the default is your local timezone).">Timezone</app-help></label>
        <select id="timezone" name="timezone" [(ngModel)]="clock.timezone">
          <option value="Automatic">Automatic ({{timezoneFormat(tzGuess)}})</option>
          <ng-template let-c ngFor [ngForOf]="allTimezones">
            <optgroup *ngIf="c.zones.length > 1" [label]="c.iso | iso2CountryPipe">
              <option *ngFor="let t of c.zones" [value]="t">{{timezoneFormat(t)}}
                <span>{{timezoneOffset(t)}}</span>
              </option>
            </optgroup>
            <option *ngIf="c.zones.length === 1" [value]="c.zones[0]">{{c.iso | iso2CountryPipe}}
              <span>{{timezoneOffset(c.zones[0])}}</span>
            </option>
          </ng-template>
        </select>
      </div>
    </div>
    <div class="row mt1 mb1">
      <!-- General -->
      <div class="col4">
        <div class="formBox h100">
          <h3 title="General settings for the time">Time</h3>
          <div class="control">
            <label for="clock1Seconds" class="fa-fw" title="Display clock in 24-hour format instead of 12-hour (will disable meridiem)."><strong>24</strong></label>
            <div class="toggle">
              <input type="checkbox" id="clockTwentyFour" name="clockTwentyFour" [(ngModel)]="clock.twentyFour">
              <label for="clockTwentyFour" class="fas fa-check"></label>
            </div>
          </div>
          <div class="control">
            <label for="clockSize" class="fas fa-fw fa-text-height" title="Change the size of the clock."></label>
            <div class="control__group">
              <input id="clockSize" name="clockSize" [(ngModel)]="clock.scaling" type="range" class="flex__auto" min="1" max="100">
              <output [value]="clock.scaling"></output>
            </div>
          </div>
          <div class="control">
            <label for="clockFont" class="fas fa-fw fa-font" title="Choose a font to use for this clock."></label>
            <select name="clockFont" id="clockFont" [(ngModel)]="clock.font">
              <option>Use global font</option>
              <option *ngFor="let font of fonts" [value]="font">{{font}}</option>
            </select>
          </div>
        </div>
      </div>
      <!-- Analog Clock -->
      <div class="col4">
        <div class="formBox h100">
          <h3 title="Displays the clock in an analog style instead of digital.">Analog</h3>
          <div class="control">
            <label class="fas fa-fw fa-power-off" title="Enable"></label>
            <div class="toggle">
              <input type="checkbox" id="analogEnable" name="analogEnable" [(ngModel)]="clock.analog.enabled">
              <label for="analogEnable" class="fas fa-check"></label>
            </div>
          </div>
          <div class="control">
            <label for="analogStyle" class="fas fa-fw fa-clock" title="Choose the style of analog clock"></label>
            <select id="analogStyle" name="analogStyle" [(ngModel)]="clock.analog.style">
              <option value="">Style 1</option>
              <option value="">Style 2</option>
            </select>
          </div>
        </div>
      </div>
      <!-- Delimiter -->
      <div class="col4">
        <div class="formBox h100">
          <h3 title="Shows a separator between hours/minutes/seconds.">Delimiter</h3>
          <div class="control">
            <div class="control__group toggle">
              <input type="checkbox" id="delimiterEnable" name="delimiterEnable" [(ngModel)]="clock.delimiter.enabled">
              <label for="delimiterEnable" class="fas fa-check" title="Enable"></label>
              <input type="checkbox" id="delimiterBlink" name="delimiterBlink" [(ngModel)]="clock.delimiter.blink">
              <label for="delimiterBlink" class="fas fa-eye" title="Blink"></label>
              <input type="checkbox" id="delimiterDim" name="delimiterDim" [(ngModel)]="clock.delimiter.dim">
              <label for="delimiterDim" class="fas fa-adjust" title="Dim"></label>
            </div>
          </div>
          <div class="control">
            <label for="delimiterScaling" class="fas fa-fw fa-text-height" title="Adjusts the size of the delimiter relative to the clock"></label>
            <div class="control__group">
              <input id="delimiterScaling" name="delimiterScaling" [(ngModel)]="clock.delimiter.scaling" type="range" class="flex__auto" min="1" max="100">
              <output [value]="clock.delimiter.scaling"></output>
            </div>
          </div>
          <div class="control">
            <label for="delimiterOffset" class="fas fa-fw fa-superscript" title="Adjust the position of the delimiter up or down"></label>
            <div class="control__group">
              <input id="delimiterOffset" name="delimiterOffset" [(ngModel)]="clock.delimiter.offset" type="range" class="flex__auto" min="1" max="100">
              <output [value]="clock.delimiter.offset"></output>
            </div>
          </div>
        </div>
      </div>
      <!-- Seconds -->
      <div class="col4">
        <div class="formBox h100">
          <h3 title="Display the seconds on the clock.">Seconds</h3>
          <div class="control">
            <div class="control__group toggle">
              <input type="checkbox" id="clockSecondsEnable" name="clockSecondsEnable" [(ngModel)]="clock.seconds.enabled">
              <label for="clockSecondsEnable" class="fas fa-check"></label>
              <input type="checkbox" id="clockSecondsBlink" name="clockSecondsBlink" [(ngModel)]="clock.seconds.blink">
              <label for="clockSecondsBlink" title="Blink" class="fas fa-eye"></label>
              <input type="checkbox" id="clockSecondsDim" name="clockSecondsDim" [(ngModel)]="clock.seconds.dim">
              <label for="clockSecondsDim" title="Dim" class="fas fa-adjust"></label>
            </div>
          </div>
          <div class="control">
            <label for="secondsScaling" class="fas fa-fw fa-text-height" title="Adjusts the size of the seconds relative to the clock"></label>
            <div class="control__group">
              <input id="secondsScaling" name="secondsScaling" [(ngModel)]="clock.seconds.scaling" type="range" class="flex__auto" min="1" max="100">
              <output [value]="clock.seconds.scaling"></output>
            </div>
          </div>
          <div class="control">
            <label for="secondsOffset" class="fas fa-fw fa-superscript" title="Adjust the position of the delimiter up or down"></label>
            <div class="control__group">
              <input id="secondsOffset" name="secondsOffset" [(ngModel)]="clock.seconds.offset" type="range" class="flex__auto" min="1" max="100">
              <output [value]="clock.seconds.offset"></output>
            </div>
          </div>
        </div>
      </div>
      <!-- Meridiem -->
      <div class="col4">
        <div class="formBox h100">
          <h3 title="Displays AM/PM on the clock (only for 12-Hour format)">Meridiem</h3>
          <div class="control">
            <div class="control__group toggle">
              <input type="checkbox" id="meridiemEnable" name="meridiemEnable" [(ngModel)]="clock.meridiem.enabled">
              <label for="meridiemEnable" title="Enable" class="fas fa-check"></label>
              <input type="checkbox" id="meridiemDim" name="meridiemDim" [(ngModel)]="clock.meridiem.dim">
              <label for="meridiemDim" title="Dim" class="fas fa-adjust"></label>
            </div>
          </div>
          <div class="control">
            <label for="meridiemScaling" class="fas fa-fw fa-text-height" title="Adjusts the size of the meridiem relative to the clock"></label>
            <div class="control__group">
              <input id="meridiemScaling" name="meridiemScaling" [(ngModel)]="clock.meridiem.scaling" type="range" class="flex__auto" min="1" max="100">
              <output [value]="clock.meridiem.scaling"></output>
            </div>
          </div>
          <div class="control">
            <label for="meridiemOffset" class="fas fa-fw fa-superscript" title="Adjust the position of the delimiter up or down"></label>
            <div class="control__group">
              <input id="meridiemOffset" name="meridiemOffset" [(ngModel)]="clock.meridiem.offset" type="range" class="flex__auto" min="1" max="100">
              <output [value]="clock.meridiem.offset"></output>
            </div>
          </div>
        </div>
      </div>
      <!-- Brackets -->
      <div class="col4">
        <div class="formBox h100">
          <h3 title="Displays AM/PM on the clock (only for 12-Hour format)">Brackets</h3>
          <div class="control">
            <div class="control__group toggle">
              <input type="checkbox" id="bracketsEnable" name="bracketsEnable" [(ngModel)]="clock.brackets.enabled">
              <label for="bracketsEnable" title="Enable" class="fas fa-check"></label>
              <input type="checkbox" id="bracketsDim" name="bracketsDim" [(ngModel)]="clock.brackets.dim">
              <label for="bracketsDim" title="Dim" class="fas fa-adjust"></label>
              <input type="text" id="bracketsLeft" name="bracketsLeft" class="w40Px" [(ngModel)]="clock.brackets.left" maxlength="1">
              <input type="text" id="bracketsRight" name="bracketsRight" class="w40Px" [(ngModel)]="clock.brackets.right" maxlength="1">
            </div>
          </div>
          <div class="control">
            <label for="bracketsScaling" class="fas fa-fw fa-text-height" title="Adjusts the size of the brackets relative to the clock"></label>
            <div class="control__group">
              <input id="bracketsScaling" name="bracketsScaling" [(ngModel)]="clock.brackets.scaling" type="range" class="flex__auto" min="1" max="100">
              <output [value]="clock.brackets.scaling"></output>
            </div>
          </div>
          <div class="control">
            <label for="bracketsOffset" class="fas fa-fw fa-superscript" title="Adjust the position of the delimiter up or down"></label>
            <div class="control__group">
              <input id="bracketsOffset" name="bracketsOffset" [(ngModel)]="clock.brackets.offset" type="range" class="flex__auto" min="1" max="100">
              <output [value]="clock.brackets.offset"></output>
            </div>
          </div>
        </div>
      </div>
    </div>
  </fieldset>
</form>
<button class="btn" title="Add clock" *ngIf="!showNew" (click)="add()"><i class="fas fa-plus"></i>Add New Clock</button>
<p>
  <b>Note:</b> the time is an educated guess based on the time and timezone your computer is set to and may not reflect your actual time. CaretTab is guessing your current timezone to be: "{{timezoneFormat(this.tzGuess)}}".
</p>
